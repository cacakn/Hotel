(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"347c":function(e,t,r){},"5ed2":function(e,t,r){"use strict";var a=r("d8ab"),s=r.n(a);s.a},"83e9":function(e,t,r){},"96be":function(e,t,r){"use strict";var a=r("347c"),s=r.n(a);s.a},"980c":function(e,t,r){"use strict";var a=r("83e9"),s=r.n(a);s.a},d0f4:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("订单管理")]),r("el-breadcrumb-item",[e._v("商品订单列表")])],1),r("el-card",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getOrderList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getOrderList},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加商品订单")])],1)],1),r("el-table",{attrs:{data:e.orderlist,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{label:"订单编号",prop:"orderNumber"}}),r("el-table-column",{attrs:{label:"商品名",prop:"productName"}}),r("el-table-column",{attrs:{label:"订单数量",prop:"productNum"}}),r("el-table-column",{attrs:{label:"订单单价",prop:"productPrice"}}),r("el-table-column",{attrs:{label:"是否完成",prop:"orderOverdueStates",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderOverdueStates?r("el-tag",{attrs:{type:"success"}},[e._v("已完成")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未完成")])]}}])}),r("el-table-column",{attrs:{label:"是否完成",prop:"pay_status",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderStates?r("el-tag",{attrs:{type:"success"}},[e._v("已付款")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未付款")])]}}])}),r("el-table-column",{attrs:{label:"下单时间",prop:"create_time",width:"155px",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderTime))]}}])}),r("el-table-column",{attrs:{label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"medium",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.removeOrderById(t.row.id)}}})]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加商品订单",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClosed}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户id",prop:"userId"}},[r("el-input",{model:{value:e.addForm.userId,callback:function(t){e.$set(e.addForm,"userId",t)},expression:"addForm.userId"}})],1),r("el-form-item",{attrs:{label:"商品id",prop:"productId"}},[r("el-input",{model:{value:e.addForm.productId,callback:function(t){e.$set(e.addForm,"productId",t)},expression:"addForm.productId"}})],1),r("el-form-item",{attrs:{label:"商品数量",prop:"productNum"}},[r("el-input",{model:{value:e.addForm.productNum,callback:function(t){e.$set(e.addForm,"productNum",t)},expression:"addForm.productNum"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addOrder}},[e._v("确 定")])],1)],1)],1)},s=[],o=(r("b449"),r("5d83")),n={data:function(){return{queryInfo:{page:1,limit:5},total:0,orderlist:[],addDialogVisible:!1,addForm:{id:"",userId:"",productId:"",productNum:""},addFormRules:{userId:[{required:!0,message:"请输入用户id",trigger:"blur"}],productId:[{required:!0,message:"请输入商品id",trigger:"blur"}],productNum:[{required:!0,message:"请输入商品数量",trigger:"blur"}]},editForm:{}}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("http://101.132.135.179:8088/hotel/select/getUserProductList",{params:this.queryInfo});case 2:if(t=e.sent,r=t.data,0==r.code){e.next=6;break}return e.abrupt("return",this.$message.error("获取商品订单列表失败！"));case 6:this.$message.success("获取商品订单列表成功！"),this.total=r.count,this.orderlist=r.data;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.queryInfo.limit=e,this.getOrderList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getOrderList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addOrder:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:a=e.$http.post("http://101.132.135.179:8088/hotel/userProduct/insertUserProduct?userId="+e.addForm.userId+"&productId="+e.addForm.productId+"&productNum="+e.addForm.productNum).then((function(t){0==t.data.code?e.$message.success("添加商品订单成功！"):500==t.data.code?e.$message.error("订单已存在"):e.$message.warning("对不起，你无权访问，请升级权限"),e.addDialogVisible=!1,e.getRolesList()})).catch((function(e){})),a.data,e.addDialogVisible=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeOrderById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,o,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("http://101.132.135.179:8088/hotel/select/getUserProductById?id="+t);case 2:if(r=e.sent,a=r.data,0==a.code){e.next=6;break}return e.abrupt("return",this.$message.success("查询商品订单信息失败！"));case 6:return this.$message.success("查询商品订单信息成功！"),this.editForm=a.data,this.editDialogVisible=!0,e.next=11,this.$confirm("此操作将永久删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 11:if(s=e.sent,"confirm"===s){e.next=14;break}return e.abrupt("return",this.$message.info("已取消删除"));case 14:return e.next=16,this.axios.post("http://101.132.135.179:8088/hotel/userProduct/deleteUserProduct?id="+t+"&productId="+this.editForm.productId+"&productNum="+this.editForm.productNum).then((function(e){if(0!=e.code)return n.$message.success("删除商品订单成功！");n.$message.error("删除商品订单失败！")}));case 16:o=e.sent,o.data,this.getOrderList();case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},i=n,l=(r("96be"),r("4023")),d=Object(l["a"])(i,a,s,!1,null,null,null);t["default"]=d.exports},d8ab:function(e,t,r){},fa15:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("订单管理")]),r("el-breadcrumb-item",[e._v("房间订单列表")])],1),r("el-card",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getOrderList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getOrderList},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加房间订单")])],1)],1),r("el-table",{attrs:{data:e.orderlist,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{label:"订单编号",prop:"orderNumber"}}),r("el-table-column",{attrs:{label:"房间号",prop:"roomNumber"}}),r("el-table-column",{attrs:{label:"房间类型",prop:"roomType"}}),r("el-table-column",{attrs:{label:"订单单价",prop:"roomPrice"}}),r("el-table-column",{attrs:{label:"是否完成",prop:"orderOverdueStates",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderOverdueStates?r("el-tag",{attrs:{type:"success"}},[e._v("已完成")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未完成")])]}}])}),r("el-table-column",{attrs:{label:"是否完成",prop:"pay_status",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderStates?r("el-tag",{attrs:{type:"success"}},[e._v("已付款")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未付款")])]}}])}),r("el-table-column",{attrs:{label:"下单时间",prop:"create_time",width:"155px",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderTime))]}}])}),r("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.removeOrderById(t.row.id)}}},[e._v("删除")]),r("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(r){return e.cancelRoomById(t.row.id)}}},[e._v("退房")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加房间订单",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClosed}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户id",prop:"userId"}},[r("el-input",{model:{value:e.addForm.userId,callback:function(t){e.$set(e.addForm,"userId",t)},expression:"addForm.userId"}})],1),r("el-form-item",{attrs:{label:"房间id",prop:"roomId"}},[r("el-input",{model:{value:e.addForm.roomId,callback:function(t){e.$set(e.addForm,"roomId",t)},expression:"addForm.roomId"}})],1),r("el-form-item",{attrs:{label:"入住时间",prop:"orderTime"}},[r("el-input",{model:{value:e.addForm.orderTime,callback:function(t){e.$set(e.addForm,"orderTime",t)},expression:"addForm.orderTime"}})],1),r("el-form-item",{attrs:{label:"离店时间",prop:"leaveTime"}},[r("el-input",{model:{value:e.addForm.leaveTime,callback:function(t){e.$set(e.addForm,"leaveTime",t)},expression:"addForm.leaveTime"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addOrder}},[e._v("确 定")])],1)],1)],1)},s=[],o=(r("b449"),r("5d83")),n={data:function(){return{queryInfo:{page:1,limit:5},total:0,orderlist:[],addDialogVisible:!1,addForm:{id:"",userId:"",roomId:"",orderTime:"",leaveTime:""},addFormRules:{userId:[{required:!0,message:"请输入用户id",trigger:"blur"}],roomId:[{required:!0,message:"请输入房间id",trigger:"blur"}],orderTime:[{required:!0,message:"请输入入住时间",trigger:"blur"},{min:10,message:"输入列如2019-09-18",trigger:"blur"}],leaveTime:[{required:!0,message:"请输入离店时间",trigger:"blur"},{min:10,message:"输入列如2019-09-18",trigger:"blur"}]},editForm:{}}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("http://101.132.135.179:8088/hotel/select/getUserRoomList",{params:this.queryInfo});case 2:if(t=e.sent,r=t.data,0==r.code){e.next=6;break}return e.abrupt("return",this.$message.error("获取房间订单列表失败！"));case 6:this.$message.success("获取房间订单列表成功！"),this.total=r.count,this.orderlist=r.data;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.queryInfo.limit=e,this.getOrderList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getOrderList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addOrder:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:a=e.$http.post("http://101.132.135.179:8088/hotel/userRoom/insertUserRoom?userId="+e.addForm.userId+"&roomId="+e.addForm.roomId+"&orderTime="+e.addForm.orderTime+"&leaveTime="+e.addForm.leaveTime).then((function(t){0==t.data.code?e.$message.success("添加房间订单成功！"):500==t.data.code?e.$message.error("订单已存在"):e.$message.warning("对不起，你无权访问，请升级权限"),e.addDialogVisible=!1,e.getRolesList()})).catch((function(e){})),a.data,e.addDialogVisible=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeOrderById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,o,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("http://101.132.135.179:8088/hotel/select/getUserRoomById?id="+t);case 2:if(r=e.sent,a=r.data,0==a.code){e.next=6;break}return e.abrupt("return",this.$message.success("查询房间订单信息失败！"));case 6:return this.$message.success("查询房间订单信息成功！"),this.editForm=a.data,this.editForm.password="",this.editDialogVisible=!0,e.next=12,this.$confirm("此操作将永久删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 12:if(s=e.sent,"confirm"===s){e.next=15;break}return e.abrupt("return",this.$message.info("已取消删除"));case 15:return e.next=17,this.axios.post("http://101.132.135.179:8088/hotel/userRoom/deleteUserRoom?id="+t+"&roomId="+this.editForm.roomId).then((function(e){if(0!=e.code)return n.$message.success("删除房间订单成功！");n.$message.error("删除房间订单失败！")}));case 17:o=e.sent,o.data,this.getOrderList();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancelRoomById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将退出该房间, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=e.sent,"confirm"===r){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.axios.post("http://192.168.2.202:8088/hotel/userRoom/cancel?id="+t).then((function(e){if(0!=e.code)return s.$message.success("退出房间成功！");s.$message.error("退出房间失败！")}));case 7:a=e.sent,a.data,this.getOrderList();case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},i=n,l=(r("980c"),r("4023")),d=Object(l["a"])(i,a,s,!1,null,null,null);t["default"]=d.exports},fe48:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/welcome"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v("订单管理")]),r("el-breadcrumb-item",[e._v("用户订单列表")])],1),r("el-card",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getOrderList},model:{value:e.queryInfo.query,callback:function(t){e.$set(e.queryInfo,"query",t)},expression:"queryInfo.query"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getOrderList},slot:"append"})],1)],1),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addDialogVisible=!0}}},[e._v("添加用户订单")])],1)],1),r("el-table",{attrs:{data:e.orderlist,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"#"}}),r("el-table-column",{attrs:{label:"订单编号",prop:"orderNumber"}}),r("el-table-column",{attrs:{label:"食品名称",prop:"foodName"}}),r("el-table-column",{attrs:{label:"食品数量",prop:"foodNum"}}),r("el-table-column",{attrs:{label:"食品单价",prop:"foodUnitPrice"}}),r("el-table-column",{attrs:{label:"是否完成",prop:"orderOverdueStates",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderOverdueStates?r("el-tag",{attrs:{type:"success"}},[e._v("已完成")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未完成")])]}}])}),r("el-table-column",{attrs:{label:"是否完成",prop:"pay_status",sortable:"",filters:[{text:"未付款",value:"未付款"},{text:"已付款",value:"已付款"}],width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.orderStates?r("el-tag",{attrs:{type:"success"}},[e._v("已付款")]):r("el-tag",{attrs:{type:"danger"}},[e._v("未付款")])]}}])}),r("el-table-column",{attrs:{label:"下单时间",prop:"create_time",width:"155px",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderTime))]}}])}),r("el-table-column",{attrs:{label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"medium",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.removeOrderById(t.row.id)}}})]}}])})],1),r("el-pagination",{attrs:{"current-page":e.queryInfo.page,"page-sizes":[1,2,5,10],"page-size":e.queryInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"添加用户订单",visible:e.addDialogVisible,width:"50%"},on:{"update:visible":function(t){e.addDialogVisible=t},close:e.addDialogClosed}},[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.addFormRules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户id",prop:"userId"}},[r("el-input",{model:{value:e.addForm.userId,callback:function(t){e.$set(e.addForm,"userId",t)},expression:"addForm.userId"}})],1),r("el-form-item",{attrs:{label:"餐厅物品id",prop:"productId"}},[r("el-input",{model:{value:e.addForm.restaurantId,callback:function(t){e.$set(e.addForm,"restaurantId",t)},expression:"addForm.restaurantId"}})],1),r("el-form-item",{attrs:{label:"食品数量",prop:"foodNum"}},[r("el-input",{model:{value:e.addForm.foodNum,callback:function(t){e.$set(e.addForm,"foodNum",t)},expression:"addForm.foodNum"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addOrder}},[e._v("确 定")])],1)],1)],1)},s=[],o=(r("b449"),r("5d83")),n={data:function(){return{queryInfo:{page:1,limit:5},total:0,orderlist:[],addDialogVisible:!1,addForm:{id:"",userId:"",restaurantId:"",foodNum:""},addFormRules:{userId:[{required:!0,message:"请输入用户id",trigger:"blur"}],restaurantId:[{required:!0,message:"请输入餐厅物品id",trigger:"blur"}],foodNum:[{required:!0,message:"请输入食品数量",trigger:"blur"}]},editForm:{}}},created:function(){this.getOrderList()},methods:{getOrderList:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("http://101.132.135.179:8088/hotel/select/getUserRestaurantList",{params:this.queryInfo});case 2:if(t=e.sent,r=t.data,0==r.code){e.next=6;break}return e.abrupt("return",this.$message.error("获取用户订单列表失败！"));case 6:this.$message.success("获取用户订单列表成功！"),this.total=r.count,this.orderlist=r.data;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.queryInfo.limit=e,this.getOrderList()},handleCurrentChange:function(e){this.queryInfo.page=e,this.getOrderList()},addDialogClosed:function(){this.$refs.addFormRef.resetFields()},addOrder:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:a=e.$http.post("http://101.132.135.179:8088/hotel/userRestaurant/insertUserRestaurant?userId="+e.addForm.userId+"&restaurantId="+e.addForm.restaurantId+"&foodNum="+e.addForm.foodNum).then((function(t){0==t.data.code?e.$message.success("添加用户订单成功！"):500==t.data.code?e.$message.error("订单已存在"):e.$message.warning("对不起，你无权访问，请升级权限"),e.addDialogVisible=!1,e.getRolesList()})).catch((function(e){})),a.data,e.addDialogVisible=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},removeOrderById:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a,s,o,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.axios.post("http://101.132.135.179:8088/hotel/select/getUserRestaurantById?id="+t);case 2:if(r=e.sent,a=r.data,0==a.code){e.next=6;break}return e.abrupt("return",this.$message.success("查询用户订单信息失败！"));case 6:return this.$message.success("查询用户订单信息成功！"),this.editForm=a.data,this.editForm.password="",this.editDialogVisible=!0,e.next=12,this.$confirm("此操作将永久删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 12:if(s=e.sent,"confirm"===s){e.next=15;break}return e.abrupt("return",this.$message.info("已取消删除"));case 15:return e.next=17,this.axios.post("http://101.132.135.179:8088/hotel/userRestaurant/deleteUserRestaurant?id="+t+"&restaurantId="+this.editForm.restaurantId+"&foodNum="+this.editForm.foodNum).then((function(e){if(0!=e.code)return n.$message.success("删除用户订单成功！");n.$message.error("删除用户订单失败！")}));case 17:o=e.sent,o.data,this.getOrderList();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},i=n,l=(r("5ed2"),r("4023")),d=Object(l["a"])(i,a,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=order.b694e88d.js.map